(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),l=a.n(i),s=(a(30),a(10)),u=a(11);var o=function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement(u.b,{to:"/"},r.a.createElement("li",null,"Home")),r.a.createElement("span",{className:"right"},r.a.createElement(u.b,{to:"/howitworks"},r.a.createElement("li",null,"How It Works")),r.a.createElement(u.b,{to:"/createquiz"},r.a.createElement("li",null,"Create Quiz")))))};var c=function(){return document.title="Quizza",r.a.createElement("div",null,r.a.createElement("h3",null," Home "))};var m=function(){return document.title="How It Works | Quizza",r.a.createElement("div",null,r.a.createElement("h3",null," How It Works "))},d=a(5),h=a(6),p=a(8),E=a(7),v=a(9),b=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this))).timer=setInterval(function(){var e=String(Math.floor(a.state.total%3600/60)).padStart(2,0),t=String(Math.floor(a.state.total%60)).padStart(2,0);a.setState({min:e,sec:t}),a.setState({total:a.state.total-1}),a.state.total<0&&(clearInterval(a.timer),a.props.timeOver())},1e3),a.props=e,a.state={min:null,sec:null,total:0,done:!1},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=60*this.props.min+Number(this.props.sec);this.setState({total:e})}},{key:"componentDidUpdate",value:function(){this.props.submitted&&clearInterval(this.timer)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.min,a=e.sec,n=e.total;return r.a.createElement("div",{className:"countdown "+(n<30?"red":"")},t?t+":"+a:"Ready")}}]),t}(n.Component),f=function(e){function t(e){var a,n=e.match;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this))).fetchQuestions=function(e){e.preventDefault(),fetch("https://lalaquiz.herokuapp.com/api/v1/quiz/".concat(a.state.quizId,"/take")).then(function(e){return e.json()}).then(function(e){a.setState({quiz:e.quiz,starting:!0,modalHidden:!0,user:a.user.value})})},a.submitAnswers=function(){a.saveAndNext(),a.setState({disableButton:!0,submitted:!0});var e=a.state.answers;fetch("https://lalaquiz.herokuapp.com/api/v1/submit/".concat(a.state.quiz._id),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({answers:e,takenBy:a.state.user})}).then(function(e){return e.json()}).then(function(e){a.setState({starting:!1,result:{score:e.result.score,max:e.maxScore,percent:e.result.score/e.maxScore*100}})})},a.saveAnswer=function(e){a.setState({selectedAnswer:e.target.name}),document.querySelectorAll(".btn-answers").forEach(function(t){t.name===e.target.name?t.style.backgroundColor="green":t.style.backgroundColor="#ddd"})},a.saveAndNext=function(){a.setState({disableButton:!0}),a.state.answers.push(a.state.selectedAnswer),a.state.quiz.questions[a.state.currrentQuestion]&&(a.setState({selectedAnswer:null,currrentQuestion:a.state.currrentQuestion+1,disableButton:!1}),document.querySelectorAll(".btn-answers").forEach(function(e){return e.style.backgroundColor="#ddd"}))},a.displayModal=function(){a.popup.style.display="block"},a.state={quizId:n.params.quizId,quiz:null,quizCreator:null,starting:!1,user:"",result:null,currrentQuestion:1,selectedAnswer:null,answers:[],submitted:!1,disableButton:!1},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://lalaquiz.herokuapp.com/api/v1/quiz/".concat(this.state.quizId)).then(function(e){return e.json()}).then(function(t){var a=t.quizDetails,n=a.created,r=a.name,i=a.duration,l=a.creator;e.setState({quiz:{created:n,name:r,duration:i},quizCreator:l}),document.title="".concat(r," | Quizza")})}},{key:"render",value:function(){var e=this;if(this.state.quiz){var t=this.state,a=t.user,n=t.result,i=this.state.quiz,l=i.name,s=i.duration,u=i.created,o=this.state.quizCreator.name;if(!this.state.starting&&!this.state.result)return r.a.createElement("div",null,r.a.createElement("h1",null,l),r.a.createElement("p",null,"Created by ",o),r.a.createElement("h2",null,"Duration : ","".concat(s.min," minutes : ").concat(s.sec," seconds")),r.a.createElement("h3",null,"Created : ",new Date(u).toDateString()),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.displayModal},"TAKE QUIZ")),r.a.createElement("div",{ref:function(t){return e.popup=t},className:"popup"},r.a.createElement("form",{onSubmit:this.fetchQuestions},r.a.createElement("input",{required:!0,ref:function(t){return e.user=t},minLength:"3",type:"text",placeholder:"Enter Name"}),r.a.createElement("button",{type:"submit"},"START"))));if(this.state.starting)return r.a.createElement("div",{className:"quiz"},r.a.createElement(b,{timeOver:this.submitAnswers,min:this.state.quiz.duration.min,sec:this.state.quiz.duration.sec,submitted:this.state.submitted}),r.a.createElement("div",{className:"activeQuestion"},"Question ",this.state.currrentQuestion," of ",this.state.quiz.questions.length),r.a.createElement("div",{className:"questionDisplay"},r.a.createElement("div",null,this.state.quiz.questions[this.state.currrentQuestion-1].title)),r.a.createElement("div",{className:"option-row"},r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn-answers",onClick:this.saveAnswer,id:"optionA",name:"A"},this.state.quiz.questions[this.state.currrentQuestion-1].options[0])),r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn-answers",onClick:this.saveAnswer,id:"optionB",name:"B"},this.state.quiz.questions[this.state.currrentQuestion-1].options[1]))),r.a.createElement("div",{className:"option-row"},r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn-answers",onClick:this.saveAnswer,id:"optionC",name:"C"},this.state.quiz.questions[this.state.currrentQuestion-1].options[2])),r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn-answers",onClick:this.saveAnswer,id:"optionD",name:"D"},this.state.quiz.questions[this.state.currrentQuestion-1].options[3]))),this.state.quiz.questions[this.state.currrentQuestion]?r.a.createElement("button",{disabled:this.state.disableButton,className:"btn-quiz",onClick:this.saveAndNext},"NEXT"):r.a.createElement("button",{disabled:this.state.disableButton,className:"btn-quiz",onClick:this.submitAnswers}," FINISH QUIZ"),r.a.createElement("form",null));if(this.state.result)return r.a.createElement("div",null,r.a.createElement("p",null,"".concat(a,", your score is ").concat(n.percent.toFixed(1),"%")),r.a.createElement("p",null,"You got ".concat(n.score," questions correctly out of ").concat(n.max,".")),r.a.createElement("p",null,"See the quiz leaderboard and see where you rank amongst all who have taken quiz ",r.a.createElement("a",{href:"https://quizza.live/#/".concat(this.state.quizId,"/leaderboard"),target:"_blank",rel:"noopener noreferrer"},"LEADERBOARD")))}return r.a.createElement("div",null)}}]),t}(n.Component),q=a(14),z=a.n(q),w=a(18),y=function(e){var t=e.number;return r.a.createElement("div",{className:"question"},r.a.createElement("p",null,"Question ",t),r.a.createElement("textarea",{required:!0,className:"question-input",placeholder:"Question"}),r.a.createElement("div",{className:"option-row"},r.a.createElement("div",{className:"option"},r.a.createElement("textarea",{required:!0,placeholder:"OPTION A"})),r.a.createElement("div",{className:"option"},r.a.createElement("textarea",{required:!0,placeholder:"OPTION B"}))),r.a.createElement("div",{className:"option-row"},r.a.createElement("div",{className:"option"},r.a.createElement("textarea",{required:!0,placeholder:"OPTION C"})),r.a.createElement("div",{className:"option"},r.a.createElement("textarea",{required:!0,placeholder:"OPTION D"}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"answer"},"Choose correct answer"),r.a.createElement("select",{id:"answer",className:"answers"},r.a.createElement("option",{disabled:!0},"Choose Answer"),r.a.createElement("option",{value:"A"},"Option A"),r.a.createElement("option",{value:"B"},"Option B"),r.a.createElement("option",{value:"C"},"Option C"),r.a.createElement("option",{value:"D"},"Option D"))))},N=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(E.a)(t).call(this))).saveDetails=function(t){t.preventDefault();var a=document.getElementById("name").value,n=document.getElementById("duration-minutes").value,r=document.getElementById("duration-seconds").value,i=document.getElementById("qnos").value,l={min:n,sec:r},s=document.getElementById("email").value,u=document.getElementById("qname").value,o={name:a,email:s};e.setState({name:u,creator:o,duration:l,noOfQuestions:i,status:"fillingQuiz"})},e.saveQuestions=function(){var t=Object(w.a)(z.a.mark(function t(a){var n,r,i,l,s,u,o,c,m,d,h,p;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({sending:!0}),t.next=4,document.getElementsByClassName("question");case 4:return n=t.sent,t.next=7,document.querySelectorAll("select");case 7:for(r=t.sent,i=[],l=[],s=0;s<n.length;s++)u=n[s].children[1].value,o=n[s].children[2].children[0].children[0].value,c=n[s].children[2].children[1].children[0].value,m=n[s].children[3].children[0].children[0].value,d=n[s].children[3].children[1].children[0].value,h={title:u,options:[o,c,m,d]},i.push(h);for(p=0;p<r.length;p++)l.push(r[p].value);e.setState({questions:i,answers:l}),window.confirm("Are you sure you want to submit ? ")&&e.submitQuiz();case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.submitQuiz=Object(w.a)(z.a.mark(function t(){var a,n;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://lalaquiz.herokuapp.com/api/v1/newquiz",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.state)});case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,e.setState({quizId:n.quizId,status:"completed"});case 7:case"end":return t.stop()}},t)})),e.state={questions:[],answers:[],creator:null,duration:null,expires:null,noOfQuestions:3,status:"fillingDetails",quizId:"",sending:!1},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.title="Create Quiz | Quizza"}},{key:"render",value:function(){return"fillingDetails"===this.state.status?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.saveDetails},r.a.createElement("div",null,r.a.createElement("label",null,"Name : ")," ",r.a.createElement("input",{required:!0,id:"name",type:"text"})),r.a.createElement("div",null,r.a.createElement("label",null,"Email Address : ")," ",r.a.createElement("input",{required:!0,id:"email",type:"email"})),r.a.createElement("div",null,r.a.createElement("label",null,"Duration : ")," ",r.a.createElement("input",{required:!0,id:"duration-minutes",type:"number",max:"60",placeholder:"MM"})," :",r.a.createElement("input",{required:!0,id:"duration-seconds",type:"number",max:"59",placeholder:"SS"})),r.a.createElement("div",null,r.a.createElement("label",null,"QUIZ NAME :")," ",r.a.createElement("input",{required:!0,id:"qname",type:"text"})),r.a.createElement("div",null,r.a.createElement("label",null,"NUMBER OF QUESTIONS :")," ",r.a.createElement("input",{required:!0,id:"qnos",type:"number",min:"5"})),r.a.createElement("button",{disabled:this.state.sending},"CONTINUE"))):"fillingQuiz"===this.state.status?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.saveQuestions},r.a.createElement("div",{id:"questions"},Array.from({length:this.state.noOfQuestions},function(e,t){return r.a.createElement(y,{key:t,number:t+1})})),r.a.createElement("button",{disabled:this.state.sending,type:"submit"},"SUBMIT QUIZ"))):"completed"===this.state.status?r.a.createElement("div",null,r.a.createElement("p",null,"Quiz created successfully"),r.a.createElement("p",null,"Link to take quiz is ",r.a.createElement("a",{href:"https://quizza.live/#/".concat(this.state.quizId)},"https://quizza.live/#/".concat(this.state.quizId))),r.a.createElement("p",null,"Live leaderboard can be seen here : ",r.a.createElement("a",{href:"https://quizza.live/#/".concat(this.state.quizId,"/leaderboard")},"https://quizza.live/#/".concat(this.state.quizId,"/leaderboard"))," ")):void 0}}]),t}(n.Component),k=function(e){function t(e){var a,n=e.match;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this))).state={quizId:n.params.quizId,quiz:null,quizCreator:null},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://lalaquiz.herokuapp.com/api/v1/quiz/".concat(this.state.quizId,"/leaderboard")).then(function(e){return e.json()}).then(function(t){var a=t.name,n=t.takenBy,r=t.created,i=t.creator;e.setState({quiz:{name:a,takenBy:n,created:r},quizCreator:i}),document.title="".concat(a," Leaderboard | Quizza")})}},{key:"render",value:function(){if(this.state.quiz){var e=this.state.quiz,t=e.takenBy,a=e.name,n=e.created,i=this.state.quizCreator.name;return r.a.createElement("div",null,r.a.createElement("h3",null,a),r.a.createElement("h4",null,"Created by ",i," on ",new Date(n).toDateString()),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"Score"))),r.a.createElement("tbody",null,t.sort(function(e,t){return Number(t.score)-Number(e.score)}).map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.score))}))))}return r.a.createElement("div",null,r.a.createElement("h3",null,"Quiz Not Found "),r.a.createElement("p",null,"This quiz might have expired"))}}]),t}(r.a.Component),O=(a(36),function(e){var t=e.exact,a=e.path,n=e.component;return r.a.createElement(s.a,{exact:t,path:a,render:function(e){return r.a.createElement("div",null,r.a.createElement(o,null),r.a.createElement(n,e))}})});var g=function(){return r.a.createElement(u.a,null,r.a.createElement(s.c,null,r.a.createElement(O,{exact:!0,path:"/",component:c}),r.a.createElement(O,{path:"/howitworks",component:m}),r.a.createElement(O,{path:"/createquiz",component:N}),r.a.createElement(s.a,{exact:!0,path:"/:quizId",component:f}),r.a.createElement(O,{path:"/:quizId/leaderboard",component:k})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.d0bf832b.chunk.js.map