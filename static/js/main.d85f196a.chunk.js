(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(37)},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(22),i=n.n(l),o=(n(30),n(10)),s=n(11);var u=function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement(s.b,{to:"/"},r.a.createElement("li",null,"Home")),r.a.createElement("span",{className:"right"},r.a.createElement(s.b,{to:"/howitworks"},r.a.createElement("li",null,"How It Works")),r.a.createElement(s.b,{to:"/createquiz"},r.a.createElement("li",null,"Create Quiz")))))};var c=function(){return document.title="Quizza",r.a.createElement("div",null,r.a.createElement("h3",null," Home "))};var m=function(){return document.title="How It Works | Quizza",r.a.createElement("div",null,r.a.createElement("h3",null," How It Works "))},d=n(5),p=n(6),h=n(8),E=n(7),v=n(9),f=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(E.a)(t).call(this))).timer=setInterval(function(){var e=String(Math.floor(n.state.total%3600/60)).padStart(2,0),t=String(Math.floor(n.state.total%60)).padStart(2,0);n.setState({min:e,sec:t}),n.setState({total:n.state.total-1}),n.state.total<0&&(clearInterval(n.timer),n.props.timeOver())},1e3),n.props=e,n.state={min:null,sec:null,total:0,done:!1},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=60*this.props.min+Number(this.props.sec);this.setState({total:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.min,n=e.sec,a=e.total;return r.a.createElement("div",{className:"countdown "+(a<30?"red":"")},t?t+":"+n:"Ready")}}]),t}(a.Component),q=function(e){function t(e){var n,a=e.match;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(E.a)(t).call(this))).fetchQuestions=function(e){e.preventDefault(),fetch("https://lalaquiz.herokuapp.com/api/v1/quiz/".concat(n.state.quizId,"/take")).then(function(e){return e.json()}).then(function(e){n.setState({quiz:e.quiz,starting:!0,modalHidden:!0,user:n.user.value})})},n.submitAnswers=function(){n.saveAndNext();var e=n.state.answers;fetch("https://lalaquiz.herokuapp.com/api/v1/submit/".concat(n.state.quiz._id),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({answers:e,takenBy:n.state.user})}).then(function(e){return e.json()}).then(function(e){n.setState({starting:!1,submitted:!0,result:{score:e.result.score,max:e.maxScore,percent:e.result.score/e.maxScore*100}})})},n.saveAnswer=function(e){n.setState({selectedAnswer:e.target.name}),document.querySelectorAll(".btn-answers").forEach(function(t){t.name===e.target.name?t.style.backgroundColor="green":t.style.backgroundColor="#ddd"})},n.saveAndNext=function(){n.state.answers.push(n.state.selectedAnswer),n.state.quiz.questions[n.state.currrentQuestion]&&(n.setState({selectedAnswer:null,currrentQuestion:n.state.currrentQuestion+1}),document.querySelectorAll(".btn-answers").forEach(function(e){return e.style.backgroundColor="#ddd"}))},n.displayModal=function(){n.popup.style.display="block"},n.state={quizId:a.params.quizId,quiz:null,quizCreator:null,starting:!1,user:"",result:null,currrentQuestion:1,selectedAnswer:null,answers:[],submitted:!1},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://lalaquiz.herokuapp.com/api/v1/quiz/".concat(this.state.quizId)).then(function(e){return e.json()}).then(function(t){var n=t.quizDetails,a=n.created,r=n.name,l=n.duration,i=n.creator;e.setState({quiz:{created:a,name:r,duration:l},quizCreator:i}),document.title="".concat(r," | Quizza")})}},{key:"render",value:function(){var e=this;if(this.state.quiz){var t=this.state,n=t.user,a=t.result,l=this.state.quiz,i=l.name,o=l.duration,s=l.created,u=this.state.quizCreator.name;if(!this.state.starting&&!this.state.result)return r.a.createElement("div",null,r.a.createElement("h1",null,i),r.a.createElement("p",null,"Created by ",u),r.a.createElement("h2",null,"Duration : ","".concat(o.min," minutes : ").concat(o.sec," seconds")),r.a.createElement("h3",null,"Created : ",new Date(s).toDateString()),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.displayModal},"TAKE QUIZ")),r.a.createElement("div",{ref:function(t){return e.popup=t},className:"popup"},r.a.createElement("form",{onSubmit:this.fetchQuestions},r.a.createElement("input",{required:!0,ref:function(t){return e.user=t},minLength:"3",type:"text",placeholder:"Enter Name"}),r.a.createElement("button",{type:"submit"},"START"))));if(this.state.starting)return r.a.createElement("div",{className:"quiz"},r.a.createElement(f,{timeOver:this.submitAnswers,min:this.state.quiz.duration.min,sec:this.state.quiz.duration.sec}),r.a.createElement("div",null,"Question ",this.state.currrentQuestion),r.a.createElement("div",{className:"questionDisplay"},r.a.createElement("div",null,this.state.quiz.questions[this.state.currrentQuestion-1].title)),r.a.createElement("div",{className:"option-row"},r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn-answers",onClick:this.saveAnswer,id:"optionA",name:"A"},this.state.quiz.questions[this.state.currrentQuestion-1].options[0])),r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn-answers",onClick:this.saveAnswer,id:"optionB",name:"B"},this.state.quiz.questions[this.state.currrentQuestion-1].options[1]))),r.a.createElement("div",{className:"option-row"},r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn-answers",onClick:this.saveAnswer,id:"optionC",name:"C"},this.state.quiz.questions[this.state.currrentQuestion-1].options[2])),r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn-answers",onClick:this.saveAnswer,id:"optionD",name:"D"},this.state.quiz.questions[this.state.currrentQuestion-1].options[3]))),this.state.quiz.questions[this.state.currrentQuestion]?r.a.createElement("button",{onClick:this.saveAndNext},"NEXT"):r.a.createElement("button",{onClick:this.submitAnswers}," FINISH QUIZ"),r.a.createElement("form",null));if(this.state.result)return r.a.createElement("div",null,r.a.createElement("p",null,"".concat(n,", your score is ").concat(a.percent,"%")),r.a.createElement("p",null,"You got ".concat(a.score," questions correctly out of ").concat(a.max,".")),r.a.createElement("p",null,"See the quiz leaderboard and see where you rank amongst all who have taken quiz ",r.a.createElement("a",{href:"https://quizza.live/#/".concat(this.state.quizId,"/leaderboard"),target:"_blank",rel:"noopener noreferrer"},"LEADERBOARD")))}return r.a.createElement("div",null)}}]),t}(a.Component),b=n(14),z=n.n(b),w=n(18),y=function(e){var t=e.number;return r.a.createElement("div",{className:"question"},r.a.createElement("p",null,"Question ",t),r.a.createElement("textarea",{required:!0,className:"question-input",placeholder:"Question"}),r.a.createElement("div",{className:"option-row"},r.a.createElement("div",{className:"option"},r.a.createElement("textarea",{required:!0,placeholder:"OPTION A"})),r.a.createElement("div",{className:"option"},r.a.createElement("textarea",{required:!0,placeholder:"OPTION B"}))),r.a.createElement("div",{className:"option-row"},r.a.createElement("div",{className:"option"},r.a.createElement("textarea",{required:!0,placeholder:"OPTION C"})),r.a.createElement("div",{className:"option"},r.a.createElement("textarea",{required:!0,placeholder:"OPTION D"}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"answer"},"Choose correct answer"),r.a.createElement("select",{id:"answer",className:"answers"},r.a.createElement("option",{disabled:!0},"Choose Answer"),r.a.createElement("option",{value:"A"},"Option A"),r.a.createElement("option",{value:"B"},"Option B"),r.a.createElement("option",{value:"C"},"Option C"),r.a.createElement("option",{value:"D"},"Option D")),r.a.createElement("button",{title:"Delete Question",className:"delete-question"},"DELETE")))},N=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(E.a)(t).call(this))).saveQuestions=function(){var t=Object(w.a)(z.a.mark(function t(n){var a,r,l,i,o,s,u,c,m,d,p,h,E,v,f,q,b,w,y;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,document.getElementsByClassName("question");case 3:return a=t.sent,t.next=6,document.querySelectorAll("select");case 6:for(r=t.sent,l=document.getElementById("name").value,i=document.getElementById("duration-minutes").value,o=document.getElementById("duration-seconds").value,s={min:i,sec:o},u=document.getElementById("email").value,c=document.getElementById("qname").value,m={name:l,email:u},d=[],p=[],h=0;h<a.length;h++)E=a[h].children[1].value,v=a[h].children[2].children[0].children[0].value,f=a[h].children[2].children[1].children[0].value,q=a[h].children[3].children[0].children[0].value,b=a[h].children[3].children[1].children[0].value,w={title:E,options:[v,f,q,b]},d.push(w);for(y=0;y<r.length;y++)p.push(r[y].value);e.setState({name:c,questions:d,answers:p,creator:m,duration:s}),window.confirm("Are you sure you want to submit ? \n Quiz contains ".concat(d.length," questions "))&&e.submitQuiz();case 20:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.submitQuiz=Object(w.a)(z.a.mark(function t(){var n,a;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://lalaquiz.herokuapp.com/api/v1/newquiz",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.state)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,alert(a);case 7:case"end":return t.stop()}},t)})),e.state={questions:[],answers:[],creator:null,duration:null,expires:null,totalQuestions:3},e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",function(e){e.target.classList.contains("delete-question")&&e.target.parentNode.parentNode.remove()}),document.title="Create Quiz | Quizza"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.saveQuestions},r.a.createElement("div",null,r.a.createElement("label",null,"Name : ")," ",r.a.createElement("input",{required:!0,id:"name",type:"text"})),r.a.createElement("div",null,r.a.createElement("label",null,"Email Address : ")," ",r.a.createElement("input",{required:!0,id:"email",type:"email"})),r.a.createElement("div",null,r.a.createElement("label",null,"Duration : ")," ",r.a.createElement("input",{required:!0,id:"duration-minutes",type:"number",max:"60",placeholder:"MM"})," :",r.a.createElement("input",{required:!0,id:"duration-seconds",type:"number",max:"59",placeholder:"SS"})),r.a.createElement("div",null,r.a.createElement("label",null,"QUIZ NAME :")," ",r.a.createElement("input",{required:!0,id:"qname",type:"text"})),r.a.createElement("div",{id:"questions"},Array.from({length:this.state.totalQuestions},function(e,t){return r.a.createElement(y,{number:t+1})})),r.a.createElement("button",{type:"submit"},"SUBMIT QUIZ")))}}]),t}(a.Component),k=function(e){function t(e){var n,a=e.match;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(E.a)(t).call(this))).state={quizId:a.params.quizId,quiz:null,quizCreator:null},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://lalaquiz.herokuapp.com/api/v1/quiz/".concat(this.state.quizId,"/leaderboard")).then(function(e){return e.json()}).then(function(t){var n=t.name,a=t.takenBy,r=t.created,l=t.creator;e.setState({quiz:{name:n,takenBy:a,created:r},quizCreator:l}),document.title="".concat(n," Leaderboard | Quizza")})}},{key:"render",value:function(){if(this.state.quiz){var e=this.state.quiz,t=e.takenBy,n=e.name,a=e.created,l=this.state.quizCreator.name;return r.a.createElement("div",null,r.a.createElement("h3",null,n),r.a.createElement("h4",null,"Created by ",l," on ",new Date(a).toDateString()),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"Score"))),r.a.createElement("tbody",null,t.sort(function(e,t){return Number(t.score)-Number(e.score)}).map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.score))}))))}return r.a.createElement("div",null,r.a.createElement("h3",null,"Quiz Not Found "),r.a.createElement("p",null,"This quiz might have expired"))}}]),t}(r.a.Component),O=(n(36),function(e){var t=e.exact,n=e.path,a=e.component;return r.a.createElement(o.a,{exact:t,path:n,render:function(e){return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(a,e))}})});var g=function(){return r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(O,{exact:!0,path:"/",component:c}),r.a.createElement(O,{path:"/howitworks",component:m}),r.a.createElement(O,{path:"/createquiz",component:N}),r.a.createElement(o.a,{exact:!0,path:"/:quizId",component:q}),r.a.createElement(O,{path:"/:quizId/leaderboard",component:k})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.d85f196a.chunk.js.map